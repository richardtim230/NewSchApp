<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Account Settings | OAU ExamGuard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.css" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/sales/trash/settings.js"></script>
  <style>
    body { background: linear-gradient(120deg, #f0f4ff 0%, #fef6e4 100%); min-height:100vh; }
    .settings-card { background: #fff; border-radius: 1.3rem; box-shadow: 0 4px 32px 0 rgba(80,100,180,0.11); }
    .settings-section { margin-bottom: 2.5rem; }
    .file-upload-label { cursor:pointer; }
    .file-upload-label:hover { background: #f3f4f6; }
    .file-info { font-size:0.98em; color:#555; margin-top:3px; }
    #spinner-overlay {
      display: none;
      position: fixed;
      z-index: 50;
      left: 0; top: 0; width: 100vw; height: 100vh;
      background: rgba(255,255,255,0.65);
      align-items: center;
      justify-content: center;
    }
    @media (min-width: 1024px) {
      .settings-card {
        max-width: 850px !important;
        padding: 2.5rem 3.5rem !important;
      }
      main {
        padding-top: 2.5rem !important;
        padding-bottom: 2.5rem !important;
      }
      body {
        padding-left: 0 !important;
        padding-right: 0 !important;
      }
    }
  </style>
</head>
<body class="min-h-screen flex items-center justify-center px-2 py-8">
  <!-- Spinner Overlay -->
  <div id="spinner-overlay" class="flex">
    <div class="flex flex-col items-center">
      <svg class="animate-spin h-12 w-12 text-indigo-700 mb-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
        <circle class="opacity-30" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
        <path class="opacity-80" fill="currentColor" d="M4 12a8 8 0 018-8v8z"></path>
      </svg>
      <span class="text-indigo-700 font-semibold text-lg">Saving...</span>
    </div>
  </div>

  <!-- Toast Modal Notification -->
  <div id="toast" class="hidden fixed top-6 left-1/2 transform -translate-x-1/2 z-50 bg-indigo-700 text-white px-6 py-3 rounded-lg shadow-lg text-base font-semibold transition-opacity duration-300"></div>

  <main class="w-full max-w-3xl mx-auto settings-card p-9">
    <h1 class="text-3xl font-extrabold text-indigo-800 mb-8 text-center tracking-tight">Account Settings</h1>

    <form id="settingsForm" class="space-y-10" autocomplete="off">

      <!-- Contact Details -->
      <section class="settings-section">
        <h2 class="text-lg font-semibold text-indigo-700 mb-4">Contact Information</h2>
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="fullname">Full Name</label>
            <input type="text" id="fullname" name="fullname" class="form-input w-full rounded-lg border-gray-300 bg-gray-50" required readonly>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="email">Email</label>
            <input type="email" id="email" name="email" class="form-input w-full rounded-lg border-gray-300 bg-gray-50" required readonly>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="phone">Phone Number</label>
            <input type="tel" id="phone" name="phone" class="form-input w-full rounded-lg border-gray-300 bg-gray-50" required readonly>
          </div>
        </div>
      </section>

      <!-- Account Details -->
      <section class="settings-section">
        <h2 class="text-lg font-semibold text-indigo-700 mb-4">Account Details</h2>
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="bank">Bank Name</label>
            <input type="text" id="bank" name="bank" class="form-input w-full rounded-lg border-gray-300" required>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="accountName">Account Name</label>
            <input type="text" id="accountName" name="accountName" class="form-input w-full rounded-lg border-gray-300" required>
            <span id="acctNameCheck" class="text-xs font-semibold"></span>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="accountNumber">Account Number</label>
            <input type="text" id="accountNumber" name="accountNumber" maxlength="12" pattern="\d{10,12}" class="form-input w-full rounded-lg border-gray-300" required>
            <span class="text-xs text-gray-400">10-12 digits</span>
          </div>
        </div>
      </section>

      <!-- Verification Documents -->
      <section class="settings-section">
        <h2 class="text-lg font-semibold text-indigo-700 mb-4">Identity Verification</h2>
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="idType">ID Type</label>
            <select name="idType" id="idType" class="form-select w-full rounded-lg border-gray-300" required>
              <option value="">Select ID Type</option>
              <option value="studentId">Student ID Card</option>
              <option value="nationalId">National ID Card</option>
              <option value="votersCard">Voter's Card</option>
              <option value="driverLicense">Driver's License</option>
              <option value="passport">International Passport</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1 file-upload-label" for="idDocument">
              Upload ID Document (jpg, png, or pdf)
            </label>
            <input type="file" id="idDocument" name="idDocument" accept=".jpg,.jpeg,.png,.pdf" class="block" required>
            <span id="idDocInfo" class="file-info"></span>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1 file-upload-label" for="proofOfAddress">
              Upload Proof of Address (jpg, png, or pdf)
            </label>
            <input type="file" id="proofOfAddress" name="proofOfAddress" accept=".jpg,.jpeg,.png,.pdf" class="block" required>
            <span id="addrDocInfo" class="file-info"></span>
          </div>
        </div>
      </section>

      <button type="submit" class="w-full bg-indigo-700 text-white font-bold py-3 rounded-lg shadow hover:bg-indigo-900 transition text-lg">Save Settings</button>
      <div id="settingsMsg" class="text-center mt-4 text-base"></div>
    </form>
  </main>
  <!-- Spinner and toast logic is in settings.js -->
</body>
</html>
