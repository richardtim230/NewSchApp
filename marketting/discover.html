<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Life & Boarding — ExamGuard Int'l School</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --navy:#061728;
      --gold:#ffb400;
      --white:#ffffff;
      --muted:rgba(255,255,255,0.85);
      --panel-mid:#213a55;
      --panel-right:#566770;
      --page-bg:#f7fafc;
      --text-dark:#0b2033;
    }

    /* Reset & base */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color:var(--text-dark);
      background:var(--page-bg);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.5;
    }

    a{color:inherit}
    img{max-width:100%;display:block;height:auto}

    /* Header */
    header{
      position:fixed;top:0;left:0;width:100%;height:88px;background:var(--navy);z-index:1000;
      display:flex;align-items:center;box-shadow:0 6px 20px rgba(2,11,24,0.12);
    }
    .nav-container{
      width:100%;max-width:1400px;margin:0 auto;padding:0 24px;display:flex;align-items:center;justify-content:space-between;
    }
    .logo{font-family:'Playfair Display',serif;color:var(--gold);font-weight:700;font-size:1.4rem}
    nav{display:flex;align-items:center;gap:20px}
    nav ul{display:flex;gap:26px;list-style:none}
    nav a, nav button{color:var(--white);text-decoration:none;font-weight:500;font-size:14px;background:none;border:0;cursor:pointer}
    .nav-cta{background:var(--gold);color:#061728;padding:10px 18px;border-radius:4px;font-weight:700;text-decoration:none}
    .nav-login-btn{background:#fff;color:var(--navy);padding:8px 14px;border-radius:4px;border:1px solid rgba(6,23,40,0.08)}

    /* Mobile nav toggle */
    .nav-toggle{display:none;background:transparent;border:0;color:var(--white);cursor:pointer;padding:6px}
    .nav-toggle svg .line{fill:var(--white)}

    /* Hero carousel (background images) */
    .page-hero{
      margin-top:88px;
      color:var(--white);
      padding:72px 24px;
      position:relative;
      overflow:hidden;
    }
    .hero-carousel {
      position:absolute;inset:0;z-index:0;
      display:block;
    }
    .hero-slide{
      position:absolute;inset:0;background-size:cover;background-position:center;opacity:0;transform:scale(1.02);transition:opacity .8s ease, transform .9s ease;
    }
    .hero-slide.is-active{opacity:1;transform:scale(1)}
    .hero-overlay{
      position:relative;z-index:2;
      max-width:1200px;margin:0 auto;display:flex;gap:40px;align-items:center;flex-wrap:wrap;
    }
    .hero-inner .hero-text{flex:1;min-width:280px}
    .hero-inner h1{font-family:'Playfair Display',serif;font-size:2.4rem;margin-bottom:8px}
    .hero-inner p{color:rgba(255,255,255,0.92);max-width:68ch;margin-bottom:18px}
    .hero-actions{display:flex;gap:14px;flex-wrap:wrap}
    .btn{padding:12px 18px;border-radius:6px;font-weight:700;cursor:pointer;border:0}
    .btn-primary{background:var(--gold);color:#061728}
    .btn-outline{background:transparent;color:var(--white);border:1px solid rgba(255,255,255,0.18)}

    /* Main content */
    main{max-width:1200px;margin:40px auto;padding:0 24px;box-sizing:border-box;position:relative;z-index:1}
    .intro{background:#fff;padding:28px;border-radius:12px;box-shadow:0 8px 30px rgba(11,32,51,0.06);margin-bottom:28px}
    .intro h2{font-family:'Playfair Display',serif;font-size:1.4rem;color:var(--text-dark);margin-bottom:12px}
    .grid{
      display:grid;
      grid-template-columns:1fr 360px;
      gap:28px;
      align-items:start;
    }

    /* Left column sections */
    section.card{background:#fff;padding:22px;border-radius:10px;box-shadow:0 8px 18px rgba(11,32,51,0.04)}
    .card h3{font-family:'Playfair Display',serif;margin-bottom:10px;color:var(--text-dark)}
    .card p{color:#374151}

    /* Timeline */
    .timeline{border-left:3px solid rgba(6,23,40,0.06);padding-left:18px;display:flex;flex-direction:column;gap:14px}
    .timeline-item{position:relative;padding-left:18px}
    .timeline-item::before{content:"";position:absolute;left:-29px;top:6px;width:14px;height:14px;background:var(--gold);border-radius:4px;box-shadow:0 2px 6px rgba(2,11,24,0.08)}
    .timeline-item .year{font-weight:700;color:var(--navy);margin-bottom:4px}

    /* Sidebar */
    aside.sidebar{display:flex;flex-direction:column;gap:18px}
    .stats{display:flex;gap:12px;flex-wrap:wrap}
    .stat{background:linear-gradient(180deg,#fff,#f8fafc);padding:14px;border-radius:8px;flex:1;min-width:120px;text-align:center;box-shadow:0 6px 18px rgba(11,32,51,0.04)}
    .stat .num{font-family:'Playfair Display',serif;font-size:1.25rem;color:var(--navy);font-weight:700}
    .stat .label{font-size:13px;color:#6b7280}

    .facility-list{display:grid;grid-template-columns:1fr 1fr;gap:8px}
    .facility{background:#fff;padding:10px;border-radius:8px;font-size:14px;color:#374151;border:1px solid rgba(11,32,51,0.04)}

    /* CTA band */
    .cta-band{margin-top:24px;padding:22px;border-radius:12px;background:linear-gradient(90deg,var(--panel-mid),var(--panel-right));color:var(--white);display:flex;align-items:center;justify-content:space-between;gap:12px}
    .cta-band h4{font-family:'Playfair Display',serif;margin:0}
    .cta-band a{background:transparent;color:var(--white);border:2px solid rgba(255,255,255,0.18);padding:10px 16px;border-radius:6px;font-weight:700;text-decoration:none}

    footer{margin-top:48px;padding:28px 24px;background:#061728;color:var(--white)}
    .footer-inner{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:12px}
    .footer-links{display:flex;gap:12px;flex-wrap:wrap}

    /* small helper */
    .muted{color:#6b7280}

    /* ------------------------------------------------------
       Feature block styles (self-contained "More than a school")
       ------------------------------------------------------ */
    :root {
      --card-bg: #213a55;     /* vivid deep blue */
      --kicker: #f6b83f;      /* gold accent */
      --feature-text: #ffffff;
      --feature-muted: rgba(255,255,255,0.92);
    }

    .feature-life {
      padding: 72px 0;
      background: #ffffff;
      font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color: #0b2033;
      overflow: visible;
    }

    .feature-life .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 24px;
      box-sizing: border-box;
    }

    .feature-grid {
      display: grid;
      grid-template-columns: 1fr 560px;
      gap: 40px;
      align-items: center;
      position: relative;
      overflow: visible;
    }

    .feature-image {
      position: relative;
      z-index: 3;
      display: flex;
      align-items: center;
    }

    /* Gallery carousel (feature) */
    .gallery {
      position:relative;
      width:100%;
      max-width:560px;
      border-radius:8px;
      overflow:hidden;
      box-shadow:0 8px 30px rgba(6,23,40,0.08);
      background:#f3f4f6;
    }
    .gallery-track { display:flex; transition:transform .45s cubic-bezier(.2,.9,.2,1); touch-action:pan-y; }
    .gallery-slide { min-width:100%; flex-shrink:0; display:block; }
    .gallery-slide img { display:block; width:100%; height:400px; object-fit:cover; }

    .gallery-controls {
      position:absolute;left:12px;right:12px;bottom:12px;display:flex;justify-content:space-between;align-items:center;gap:12px;z-index:6;
    }
    .gallery-indicators { display:flex;gap:8px;align-items:center;justify-content:center; }
    .gallery-dot {
      width:10px;height:10px;border-radius:50%;background:rgba(255,255,255,0.6);border:0;opacity:.9;cursor:pointer;
    }
    .gallery-dot.is-active{background:var(--gold);transform:scale(1.15)}
    .gallery-btn {
      background:rgba(2,11,24,0.56);color:#fff;border:0;padding:8px 10px;border-radius:6px;cursor:pointer;
    }

    .feature-card {
      position: relative;
      background: var(--card-bg);
      color: var(--feature-text);
      padding: 48px;
      border-radius: 4px;
      box-shadow: 0 18px 44px rgba(6,23,40,0.14);
      z-index: 2;
      overflow: visible;
    }

    .feature-card::before {
      content: "";
      position: absolute;
      left: -88px;
      top: -36px;
      bottom: -36px;
      width: 88px;
      background: var(--card-bg);
      z-index: 1;
      border-radius: 0;
    }

    .feature-card .kicker {
      color: var(--kicker);
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 12px;
      letter-spacing: 0.6px;
      text-transform: none;
      font-family: 'Inter', sans-serif;
    }

    .feature-card h3 {
      font-family: 'Playfair Display', serif;
      font-size: 28px;
      font-weight: 700;
      margin: 0 0 18px 0;
      color: var(--feature-text);
      line-height: 1.15;
    }

    .feature-card p {
      margin: 0 0 26px 0;
      color: var(--feature-muted);
      font-size: 15px;
      line-height: 1.8;
      max-width: 44ch;
    }

    .feature-card .discover {
      display: inline-block;
      padding: 12px 20px;
      color: var(--feature-text);
      text-decoration: none;
      border: 1px solid rgba(255,255,255,0.24);
      font-weight: 700;
      border-radius: 4px;
      background: transparent;
      transition: background .15s, transform .12s;
    }

    .feature-card .discover:hover {
      background: rgba(255,255,255,0.04);
      transform: translateY(-2px);
    }

    @media (max-width: 980px) {
      .feature-grid {
        grid-template-columns: 1fr;
        gap: 22px;
      }
      .feature-card {
        padding: 28px;
      }
      .feature-card::before { display: none; }
      .feature-image .gallery-slide img { height:260px; border-radius:8px; }
    }

    @media (max-width: 640px){
      .nav-toggle{display:inline-flex}
      nav ul{display:none}
      .nav-cta{display:none}
      .nav-login-btn{display:none}
      header{height:72px}
      .page-hero{padding:48px 16px}
      .hero-inner h1{font-size:1.6rem}
      .feature-card h3{font-size:20px}
    }

    /* small helpers for controls */
    .visually-hidden { position: absolute !important; height: 1px; width: 1px; overflow: hidden; clip: rect(1px, 1px, 1px, 1px); white-space: nowrap; }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="nav-container">
      <div class="logo">ER</div>

      <button class="nav-toggle" aria-controls="main-nav" aria-expanded="false" aria-label="Open menu">
        <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true">
          <rect class="line" x="3" y="6" width="18" height="2" rx="1"></rect>
          <rect class="line" x="3" y="11" width="18" height="2" rx="1"></rect>
          <rect class="line" x="3" y="16" width="18" height="2" rx="1"></rect>
        </svg>
      </button>

      <nav id="main-nav" aria-label="Primary navigation">
        <ul>
          <li><a href="/marketting/page1.html">Home</a></li>
          <li><a href="/marketting/the-school.html">The School</a></li>
          <li><a href="/marketting/programs.html">Programs</a></li>
          <li><a href="/marketting/boarding.html" aria-current="page">Life & Boarding</a></li>
          <li><a href="/marketting/contact.html">Contact</a></li>
        </ul>

        <a class="nav-cta" href="#">FIND OUT MORE</a>
        <a class="nav-login-btn" href="#">LOGIN</a>
      </nav>
    </div>
  </header>

  <!-- Hero (background carousel) -->
  <section class="page-hero" aria-labelledby="boarding-hero-heading" role="region">
    <!-- slides use Unsplash photos as high-quality placeholders; replace with own assets if desired -->
    <div class="hero-carousel" data-carousel="hero" aria-hidden="true">
      <div class="hero-slide" style="background-image:url('../images/image%3A273027')" aria-hidden="true"></div>
      <div class="hero-slide" style="background-image:url('https://images.unsplash.com/photo-1503676260728-1c00da094a0b?auto=format&fit=crop&w=1600&q=80')" aria-hidden="true"></div>
      <div class="hero-slide" style="background-image:url('https://images.unsplash.com/photo-1523240795612-9a054b0db644?auto=format&fit=crop&w=1600&q=80')" aria-hidden="true"></div>
    </div>

    <div class="hero-overlay hero-inner" style="position:relative;z-index:2;">
      <div class="hero-text">
        <h1 id="boarding-hero-heading">Life & Boarding</h1>
        <p>
          A supportive residential community where students grow academically, socially and personally.
          Our boarding houses offer pastoral care, structured routines and an active co-curricular programme.
        </p>

        <div class="hero-actions">
          <a class="btn btn-primary" href="#boarding-life">LEARN MORE</a>
          <a class="btn btn-outline" href="/marketting/apply.html">ADMISSIONS</a>
        </div>
      </div>

      <div style="min-width:220px;display:flex;flex-direction:column;gap:12px;z-index:2">
        <div style="background:rgba(255,255,255,0.06);padding:14px;border-radius:8px;text-align:center">
          <div style="font-family:'Playfair Display',serif;font-size:1.2rem;color:var(--gold);font-weight:700">6</div>
          <div class="muted">Boarding houses</div>
        </div>
        <div style="background:rgba(255,255,255,0.06);padding:14px;border-radius:8px;text-align:center">
          <div style="font-family:'Playfair Display',serif;font-size:1.2rem;color:var(--gold);font-weight:700">30+</div>
          <div class="muted">Extracurriculars</div>
        </div>
      </div>
    </div>
  </section>

  <main>
    <div class="intro card" id="boarding-life" role="article" aria-labelledby="boarding-life-heading">
      <h2 id="boarding-life-heading">Boarding life at ExamGuard</h2>
      <p>
        Boarding at ExamGuard is built around care, community and opportunity. Students live in houses led by experienced houseparents
        and pastoral teams who support wellbeing, routines, and personal development. Our programmes foster independence, resilience
        and lifelong friendships.
      </p>
    </div>

    <!-- Feature block: More than a school (gallery carousel + info card) -->
    <section class="feature-life" aria-labelledby="feature-life-heading">
      <div class="container">
        <div class="feature-grid">
          <div class="feature-image" aria-hidden="false">
            <!-- Gallery carousel -->
            <div class="gallery" data-carousel="gallery" aria-roledescription="carousel" aria-label="School life gallery">
              <div class="gallery-track" role="list">
                <div class="gallery-slide" role="listitem">
                  <img loading="lazy" src="https://images.unsplash.com/photo-1509099836639-18ba1e7c5a97?auto=format&fit=crop&w=1400&q=80" alt="Students studying outdoors on the lawn">
                </div>
                <div class="gallery-slide" role="listitem">
                  <img loading="lazy" src="https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&w=1400&q=80" alt="Group of students walking on campus">
                </div>
                <div class="gallery-slide" role="listitem">
                  <img loading="lazy" src="https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?auto=format&fit=crop&w=1400&q=80" alt="Students collaborating in a modern classroom">
                </div>
              </div>

              <!-- controls: previous/next + indicators -->
              <div class="gallery-controls" aria-hidden="false">
                <div>
                  <button class="gallery-btn" data-prev aria-label="Previous slide">‹</button>
                </div>
                <div class="gallery-indicators" role="tablist" aria-label="Gallery slides">
                  <button class="gallery-dot" role="tab" aria-selected="true" aria-controls="slide-0" data-index="0"></button>
                  <button class="gallery-dot" role="tab" aria-selected="false" aria-controls="slide-1" data-index="1"></button>
                  <button class="gallery-dot" role="tab" aria-selected="false" aria-controls="slide-2" data-index="2"></button>
                </div>
                <div>
                  <button class="gallery-btn" data-next aria-label="Next slide">›</button>
                </div>
              </div>
            </div>
          </div>

          <div class="feature-card" role="region" aria-labelledby="feature-life-heading">
            <div class="kicker">Life and pension</div>
            <h3 id="feature-life-heading">More than a school: a way of life</h3>

            <p>
              At ExamGuard Int'l School, education extends far beyond the classroom. Our six historic boarding houses foster a strong sense of community
              and family. Each house offers tailored pastoral care, structured routines and social spaces where students relax, study and socialise.
            </p>

            <p>
              Students take part in a rich co-curricular calendar—sports, music, drama, robotics and community service—that complements academic life.
              Residential tutors and house mentors ensure every student is supported academically and personally, while our wellbeing team provides
              counselling and targeted pastoral programmes.
            </p>

            <a class="discover" href="/marketting/boarding-houses.html" aria-label="Discover more about life at the school">DISCOVER</a>
          </div>
        </div>
      </div>
    </section>

    <div class="grid" style="margin-top:28px">
      <div>
        <section class="card" aria-labelledby="houses-heading">
          <h3 id="houses-heading">Our houses</h3>
          <p>
            Each of our six houses has its own character and traditions. Houses have common rooms, study zones and dedicated staff.
            Inter-house events and mentoring programmes create belonging and healthy competition.
          </p>

          <!-- Houses carousel (compact horizontal carousel) -->
          <div style="margin-top:16px">
            <div class="gallery" data-carousel="houses" aria-roledescription="carousel" aria-label="Boarding houses">
              <div class="gallery-track" role="list" style="align-items:center;">
                <div class="gallery-slide" role="listitem">
                  <img loading="lazy" src="https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=1200&q=80" alt="Historic boarding house">
                </div>
                <div class="gallery-slide" role="listitem">
                  <img loading="lazy" src="https://images.unsplash.com/photo-1504198453319-5ce911bafcde?auto=format&fit=crop&w=1200&q=80" alt="House common room with students">
                </div>
                <div class="gallery-slide" role="listitem">
                  <img loading="lazy" src="https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?auto=format&fit=crop&w=1200&q=80" alt="Evening study in boarding house">
                </div>
              </div>

              <div class="gallery-controls" style="bottom:8px">
                <div>
                  <button class="gallery-btn" data-prev aria-label="Previous house">‹</button>
                </div>
                <div class="gallery-indicators" role="tablist" aria-label="House slides" style="gap:6px">
                  <button class="gallery-dot is-active" role="tab" aria-selected="true" data-index="0"></button>
                  <button class="gallery-dot" role="tab" aria-selected="false" data-index="1"></button>
                  <button class="gallery-dot" role="tab" aria-selected="false" data-index="2"></button>
                </div>
                <div>
                  <button class="gallery-btn" data-next aria-label="Next house">›</button>
                </div>
              </div>
            </div>
          </div>

        </section>

        <section class="card" style="margin-top:20px" aria-labelledby="wellbeing-heading">
          <h3 id="wellbeing-heading">Wellbeing & pastoral care</h3>
          <p>
            Our wellbeing provision includes on-site counsellors, health clinics and a structured mentoring programme. Houses run weekly
            wellbeing sessions and activities to develop social and emotional skills, and the school partners with local health services
            for additional support when required.
          </p>
        </section>

        <section class="card" style="margin-top:20px" aria-labelledby="activities-heading">
          <h3 id="activities-heading">Activities & life beyond the classroom</h3>
          <p>
            Over 30 clubs and activities operate every term. From debating and Model UN to creative media and coding, students are encouraged
            to pursue passions and lead initiatives. Weekend trips and community outreach broaden perspectives and build confidence.
          </p>

          <div style="display:flex;gap:12px;margin-top:12px;flex-wrap:wrap">
            <a class="btn btn-primary" href="/marketting/contact.html">Arrange a visit</a>
            <a class="btn btn-outline" href="/marketting/apply.html">Apply now</a>
          </div>
        </section>
      </div>

      <aside class="sidebar" aria-labelledby="boarding-sidebar">
        <div class="card" aria-labelledby="stats-heading">
          <h3 id="stats-heading">Key facts</h3>
          <div class="stats" role="list" aria-label="School key facts">
            <div class="stat" role="listitem">
              <div class="num">240</div>
              <div class="label">Students</div>
            </div>
            <div class="stat" role="listitem">
              <div class="num">6</div>
              <div class="label">Boarding houses</div>
            </div>
            <div class="stat" role="listitem">
              <div class="num">30+</div>
              <div class="label">Clubs & activities</div>
            </div>
          </div>
        </div>

        <div class="card" aria-labelledby="facilities-heading">
          <h3 id="facilities-heading">Residential facilities</h3>
          <div class="facility-list" role="list" aria-label="facility list">
            <div class="facility" role="listitem">House common rooms</div>
            <div class="facility" role="listitem">Study suites & tutoring</div>
            <div class="facility" role="listitem">On-site medical clinic</div>
            <div class="facility" role="listitem">Recreation & music rooms</div>
          </div>
        </div>

        <div class="card" aria-labelledby="visas-heading">
          <h3 id="visas-heading">International students</h3>
          <p class="muted">We support visa application guidance, airport transfers and bespoke settling-in programmes for families joining from overseas.</p>
        </div>
      </aside>
    </div>

    <div class="cta-band" role="region" aria-label="Call to action">
      <h4>Ready to explore boarding life?</h4>
      <div style="display:flex;gap:10px">
        <a href="/marketting/apply.html" title="Apply">APPLY NOW</a>
        <a href="/marketting/contact.html" title="Arrange a visit" style="background:transparent;border:2px solid rgba(255,255,255,0.12);padding:10px 14px;border-radius:6px;color:rgba(255,255,255,0.95);text-decoration:none">ARRANGE A VISIT</a>
      </div>
    </div>

    <footer aria-label="Footer">
      <div class="footer-inner">
        <div class="footer-left">
          <div style="font-family:'Playfair Display',serif;font-weight:700;color:var(--gold)">ExamGuard Int'l School</div>
          <div class="muted" style="font-size:13px;margin-top:6px">A tradition of academic excellence</div>
        </div>

        <div class="footer-links">
          <a href="/marketting/page1.html" style="color:rgba(255,255,255,0.85);text-decoration:none">Home</a>
          <a href="/marketting/programs.html" style="color:rgba(255,255,255,0.85);text-decoration:none">Programs</a>
          <a href="/marketting/the-school.html" style="color:rgba(255,255,255,0.85);text-decoration:none">The School</a>
          <a href="/marketting/contact.html" style="color:rgba(255,255,255,0.85);text-decoration:none">Contact</a>
        </div>
      </div>
    </footer>
  </main>

  <!-- Simple mobile nav toggle logic -->
  <script>
    (function(){
      const btn = document.querySelector('.nav-toggle');
      const nav = document.getElementById('main-nav');
      if(!btn || !nav) return;

      function setOpen(isOpen){
        btn.setAttribute('aria-expanded', isOpen);
        btn.classList.toggle('open', isOpen);
        nav.classList.toggle('open', isOpen);
        document.body.classList.toggle('no-scroll', isOpen);
      }

      btn.addEventListener('click', function(){
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        setOpen(!expanded);
      });

      document.addEventListener('keydown', function(e){
        if(e.key === 'Escape' && nav.classList.contains('open')) {
          setOpen(false);
          btn.focus();
        }
      });

      document.addEventListener('click', function(e){
        if(!nav.classList.contains('open')) return;
        const target = e.target;
        if(!nav.contains(target) && !btn.contains(target)) {
          setOpen(false);
        }
      });

      window.addEventListener('resize', function(){
        if(window.innerWidth > 1000 && nav.classList.contains('open')) setOpen(false);
      });
    })();
  </script>

  <!-- Carousel logic: generic, accessible, supports autoplay, keyboard and touch -->
  <script>
    (function(){
      // Initialize hero background carousel
      function initBackgroundCarousel(containerSelector, interval = 6000) {
        const container = document.querySelector(containerSelector);
        if(!container) return;
        const slides = Array.from(container.children);
        let idx = 0;
        slides.forEach((s,i) => s.classList.toggle('is-active', i === 0));

        let timer = setInterval(next, interval);

        function show(i) {
          slides.forEach((s, j) => {
            s.classList.toggle('is-active', j === i);
            s.setAttribute('aria-hidden', j === i ? 'false' : 'true');
          });
          idx = i;
        }
        function next(){
          show((idx + 1) % slides.length);
        }
        function prev(){
          show((idx - 1 + slides.length) % slides.length);
        }

        // Pause on hover
        container.parentElement.addEventListener('mouseenter', () => clearInterval(timer));
        container.parentElement.addEventListener('mouseleave', () => timer = setInterval(next, interval));

        // keyboard
        window.addEventListener('keydown', (e) => {
          if(e.key === 'ArrowLeft') prev();
          if(e.key === 'ArrowRight') next();
        });
      }

      // Generic gallery/carousel initializer for track-based carousels
      function initGallery(carouselEl, opts = {}) {
        const track = carouselEl.querySelector('.gallery-track');
        const slides = Array.from(track.children);
        const prevBtn = carouselEl.querySelector('[data-prev]');
        const nextBtn = carouselEl.querySelector('[data-next]');
        const dots = Array.from(carouselEl.querySelectorAll('.gallery-dot'));
        const autoplay = opts.autoplay ?? true;
        const interval = opts.interval ?? 5000;
        let current = 0;
        let isAnimating = false;
        let timer = null;

        // set roles / attributes for accessibility
        slides.forEach((s, i) => {
          s.id = s.id || `slide-${Math.random().toString(36).slice(2,9)}-${i}`;
          s.setAttribute('aria-roledescription', 'slide');
          s.setAttribute('aria-label', `${i+1} of ${slides.length}`);
        });

        function goTo(index, instant=false) {
          if(isAnimating) return;
          index = (index + slides.length) % slides.length;
          current = index;
          const offset = -index * 100;
          if(instant) {
            track.style.transition = 'none';
          } else {
            track.style.transition = '';
          }
          track.style.transform = `translateX(${offset}%)`;
          updateDots();
        }

        function updateDots(){
          dots.forEach((d, i) => {
            d.classList.toggle('is-active', i === current);
            d.setAttribute('aria-selected', i === current ? 'true' : 'false');
          });
        }

        function next(){
          goTo(current + 1);
        }
        function prev(){
          goTo(current - 1);
        }

        // buttons
        if(nextBtn) nextBtn.addEventListener('click', () => { next(); resetTimer(); });
        if(prevBtn) prevBtn.addEventListener('click', () => { prev(); resetTimer(); });

        // dots
        dots.forEach(d => {
          d.addEventListener('click', (e) => {
            const idx = Number(d.dataset.index);
            goTo(idx);
            resetTimer();
          });
        });

        // keyboard navigation (left/right when focus inside carousel)
        carouselEl.addEventListener('keydown', (e) => {
          if(e.key === 'ArrowLeft') { prev(); resetTimer(); }
          if(e.key === 'ArrowRight') { next(); resetTimer(); }
        });

        // touch support (basic)
        let startX = null, startTime = null;
        track.addEventListener('touchstart', (e) => {
          startX = e.touches[0].clientX;
          startTime = Date.now();
        }, {passive:true});
        track.addEventListener('touchend', (e) => {
          if(startX === null) return;
          const dx = (e.changedTouches[0].clientX - startX);
          const dt = Date.now() - startTime;
          if(Math.abs(dx) > 30 && dt < 1000) {
            if(dx < 0) next(); else prev();
            resetTimer();
          }
          startX = null;
        });

        // autoplay
        function startTimer(){
          if(autoplay) timer = setInterval(next, interval);
        }
        function stopTimer(){ if(timer) { clearInterval(timer); timer = null; } }
        function resetTimer(){ stopTimer(); startTimer(); }

        carouselEl.addEventListener('mouseenter', stopTimer);
        carouselEl.addEventListener('focusin', stopTimer);
        carouselEl.addEventListener('mouseleave', startTimer);
        carouselEl.addEventListener('focusout', startTimer);

        // init state
        goTo(0, true);
        startTimer();
        // expose for debug if needed
        return { goTo, next, prev };
      }

      // Initialize hero and galleries on DOM ready
      document.addEventListener('DOMContentLoaded', function(){
        initBackgroundCarousel('.hero-carousel', 6000);

        // initialize each gallery instance
        document.querySelectorAll('[data-carousel="gallery"], [data-carousel="houses"]').forEach(el => {
          initGallery(el, { autoplay: true, interval: 4500 });
        });
      });
    })();
  </script>
</body>
</html>
